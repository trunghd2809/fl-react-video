{"version":3,"file":"ekiio-video-react.cjs.js","sources":["../src/actions/video.js","../src/utils/fullscreen.js","../src/actions/player.js","../src/reducers/player.js","../src/reducers/operation.js","../src/reducers/index.js","../src/Manager.js","../src/utils/index.js","../src/components/Video.js","../src/components/HLSSource.js","../src/components/control-bar/PlayToggle.js","../src/utils/dom.js","../src/components/Slider.js","../src/components/volume-control/VolumeLevel.js","../src/components/volume-control/VolumeBar.js","../src/components/control-bar/VolumeMenuButton.js","../src/components/control-bar/PlayProgressBar.js","../src/components/control-bar/LoadProgressBar.js","../src/components/control-bar/MouseTimeDisplay.js","../src/components/control-bar/SeekBar.js","../src/components/control-bar/ProgressControl.js","../src/components/control-bar/FullscreenToggle.js","../src/components/control-bar/SettingToggle.js","../src/components/time-controls/CurrentTimeDisplay.js","../src/components/time-controls/DurationDisplay.js","../src/components/control-bar/ControlBar.js","../src/utils/browser.js","../src/components/Shortcut.js","../src/components/LoadingSpinner.js","../src/components/BigPlayButton.js","../src/components/Bezel.js","../src/components/Player.js","../src/components/settting-popup/ToggleSubVi.js"],"sourcesContent":["export const LOAD_START = 'video-react/LOAD_START'\nexport const CAN_PLAY = 'video-react/CAN_PLAY'\nexport const WAITING = 'video-react/WAITING'\nexport const CAN_PLAY_THROUGH = 'video-react/CAN_PLAY_THROUGH'\nexport const PLAYING = 'video-react/PLAYING'\nexport const PLAY = 'video-react/PLAY'\nexport const PAUSE = 'video-react/PAUSE'\nexport const END = 'video-react/END'\nexport const SEEKING = 'video-react/SEEKING'\nexport const SEEKED = 'video-react/SEEKED'\nexport const SEEKING_TIME = 'video-react/SEEKING_TIME'\nexport const END_SEEKING = 'video-react/END_SEEKING'\nexport const DURATION_CHANGE = 'video-react/DURATION_CHANGE'\nexport const TIME_UPDATE = 'video-react/TIME_UPDATE'\nexport const VOLUME_CHANGE = 'video-react/VOLUME_CHANGE'\nexport const PROGRESS_CHANGE = 'video-react/PROGRESS_CHANGE'\nexport const RATE_CHANGE = 'video-react/RATE_CHANGE'\nexport const SUSPEND = 'video-react/SUSPEND'\nexport const ABORT = 'video-react/ABORT'\nexport const EMPTIED = 'video-react/EMPTIED'\nexport const STALLED = 'video-react/STALLED'\nexport const LOADED_META_DATA = 'video-react/LOADED_META_DATA'\nexport const LOADED_DATA = 'video-react/LOADED_DATA'\nexport const RESIZE = 'video-react/RESIZE'\nexport const ERROR = 'video-react/ERROR'\n\nexport function handleLoadStart (videoProps) {\n  return {\n    type: LOAD_START,\n    videoProps,\n  }\n}\n\nexport function handleCanPlay (videoProps) {\n  return {\n    type: CAN_PLAY,\n    videoProps,\n  }\n}\n\nexport function handleWaiting (videoProps) {\n  return {\n    type: WAITING,\n    videoProps,\n  }\n}\n\nexport function handleCanPlayThrough (videoProps) {\n  return {\n    type: CAN_PLAY_THROUGH,\n    videoProps,\n  }\n}\n\nexport function handlePlaying (videoProps) {\n  return {\n    type: PLAYING,\n    videoProps,\n  }\n}\n\nexport function handlePlay (videoProps) {\n  return {\n    type: PLAY,\n    videoProps,\n  }\n}\n\nexport function handlePause (videoProps) {\n  return {\n    type: PAUSE,\n    videoProps,\n  }\n}\n\nexport function handleEnd (videoProps) {\n  return {\n    type: END,\n    videoProps,\n  }\n}\n\nexport function handleSeeking (videoProps) {\n  return {\n    type: SEEKING,\n    videoProps,\n  }\n}\n\nexport function handleSeeked (videoProps) {\n  return {\n    type: SEEKED,\n    videoProps,\n  }\n}\n\nexport function handleDurationChange (videoProps) {\n  return {\n    type: DURATION_CHANGE,\n    videoProps,\n  }\n}\n\nexport function handleTimeUpdate (videoProps) {\n  return {\n    type: TIME_UPDATE,\n    videoProps,\n  }\n}\n\nexport function handleVolumeChange (videoProps) {\n  return {\n    type: VOLUME_CHANGE,\n    videoProps,\n  }\n}\n\nexport function handleProgressChange (videoProps) {\n  return {\n    type: PROGRESS_CHANGE,\n    videoProps,\n  }\n}\n\nexport function handleRateChange (videoProps) {\n  return {\n    type: RATE_CHANGE,\n    videoProps,\n  }\n}\n\nexport function handleSuspend (videoProps) {\n  return {\n    type: SUSPEND,\n    videoProps,\n  }\n}\n\nexport function handleAbort (videoProps) {\n  return {\n    type: ABORT,\n    videoProps,\n  }\n}\n\nexport function handleEmptied (videoProps) {\n  return {\n    type: EMPTIED,\n    videoProps,\n  }\n}\n\nexport function handleStalled (videoProps) {\n  return {\n    type: STALLED,\n    videoProps,\n  }\n}\n\nexport function handleLoadedMetaData (videoProps) {\n  return {\n    type: LOADED_META_DATA,\n    videoProps,\n  }\n}\n\nexport function handleLoadedData (videoProps) {\n  return {\n    type: LOADED_DATA,\n    videoProps,\n  }\n}\n\nexport function handleResize (videoProps) {\n  return {\n    type: RESIZE,\n    videoProps,\n  }\n}\n\nexport function handleError (videoProps) {\n  return {\n    type: ERROR,\n    videoProps,\n  }\n}\n\nexport function handleSeekingTime (time) {\n  return {\n    type: SEEKING_TIME,\n    time,\n  }\n}\n\nexport function handleEndSeeking (time) {\n  return {\n    type: END_SEEKING,\n    time,\n  }\n}\n","class Fullscreen {\n  request (elm) {\n    if (elm.requestFullscreen) {\n      elm.requestFullscreen()\n    } else if (elm.webkitEnterFullScreen) {\n      elm.webkitEnterFullScreen()\n    }\n    else if (elm.webkitRequestFullscreen) {\n      elm.webkitRequestFullscreen()\n    } else if (elm.mozRequestFullScreen) {\n      elm.mozRequestFullScreen()\n    } else if (elm.msRequestFullscreen) {\n      elm.msRequestFullscreen()\n    }\n  }\n\n  exit () {\n    if (document.exitFullscreen) {\n      document.exitFullscreen()\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen()\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen()\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen()\n    }\n  }\n\n  get isFullscreen () {\n    return (\n      document.fullscreenElement ||\n      document.webkitFullscreenElement ||\n      document.mozFullScreenElement ||\n      document.msFullscreenElement\n    )\n  }\n\n  get enabled () {\n    return (\n      document.fullscreenEnabled ||\n      document.webkitFullscreenEnabled ||\n      document.mozFullScreenEnabled ||\n      document.msFullscreenEnabled\n    )\n  }\n\n  addEventListener (handler) {\n    document.addEventListener('fullscreenchange', handler)\n    document.addEventListener('webkitfullscreenchange', handler)\n    document.addEventListener('mozfullscreenchange', handler)\n    document.addEventListener('MSFullscreenChange', handler)\n  }\n\n  removeEventListener (handler) {\n    document.removeEventListener('fullscreenchange', handler)\n    document.removeEventListener('webkitfullscreenchange', handler)\n    document.removeEventListener('mozfullscreenchange', handler)\n    document.removeEventListener('MSFullscreenChange', handler)\n  }\n\n}\n\nexport default new Fullscreen()\n","import fullscreen from '../utils/fullscreen'\n\nexport const OPERATE = 'video-react/OPERATE'\nexport const FULLSCREEN_CHANGE = 'video-react/FULLSCREEN_CHANGE'\nexport const PLAYER_ACTIVATE = 'video-react/PLAYER_ACTIVATE'\nexport const USER_ACTIVATE = 'video-react/USER_ACTIVATE'\n\nexport function handleFullscreenChange (isFullscreen) {\n  return {\n    type: FULLSCREEN_CHANGE,\n    isFullscreen,\n  }\n}\n\nexport function activate (activity) {\n  return {\n    type: PLAYER_ACTIVATE,\n    activity,\n  }\n}\n\nexport function userActivate (activity) {\n  return {\n    type: USER_ACTIVATE,\n    activity,\n  }\n}\n\nexport function play (operation = {\n  action: 'play',\n  source: '',\n}) {\n  this.video.play()\n\n  return {\n    type: OPERATE,\n    operation,\n  }\n}\n\nexport function pause (operation = {\n  action: 'pause',\n  source: '',\n}) {\n  this.video.pause()\n\n  return {\n    type: OPERATE,\n    operation,\n  }\n}\n\nexport function togglePlay (operation = {\n  action: 'toggle-play',\n  source: '',\n}) {\n  this.video.togglePlay()\n\n  return {\n    type: OPERATE,\n    operation,\n  }\n}\n\n// seek video by time\nexport function seek (time, operation = {\n  action: 'seek',\n  source: '',\n}) {\n  this.video.seek(time)\n\n  return {\n    type: OPERATE,\n    operation,\n  }\n}\n\n// jump forward x seconds\nexport function forward (seconds, operation = {\n  action: `forward-${seconds}`,\n  source: '',\n}) {\n  this.video.forward(seconds)\n\n  return {\n    type: OPERATE,\n    operation,\n  }\n}\n\n// jump back x seconds\nexport function replay (seconds, operation = {\n  action: `replay-${seconds}`,\n  source: '',\n}) {\n  this.video.replay(seconds)\n\n  return {\n    type: OPERATE,\n    operation,\n  }\n}\n\nexport function changeRate (rate, operation = {\n  action: 'change-rate',\n  source: '',\n}) {\n  this.video.playbackRate = rate\n\n  return {\n    type: OPERATE,\n    operation,\n  }\n}\n\nexport function changeVolume (volume, operation = {\n  action: 'change-volume',\n  source: '',\n}) {\n  let v = volume\n  if (volume < 0) {\n    v = 0\n  }\n  if (volume > 1) {\n    v = 1\n  }\n  this.video.volume = v\n\n  return {\n    type: OPERATE,\n    operation,\n  }\n}\n\nexport function mute (muted, operation = {\n  action: muted ? 'muted' : 'unmuted',\n  source: '',\n}) {\n  this.video.muted = muted\n\n  return {\n    type: OPERATE,\n    operation,\n  }\n}\n\nexport function toggleFullscreen (player) {\n  if (fullscreen.enabled) {\n    if (fullscreen.isFullscreen) {\n      fullscreen.exit()\n    } else {\n      fullscreen.request(this.rootElement)\n    }\n    return {\n      type: OPERATE,\n      operation: {\n        action: 'toggle-fullscreen',\n        source: '',\n      },\n    }\n  }\n  return {\n    type: FULLSCREEN_CHANGE,\n    isFullscreen: !player.isFullscreen,\n  }\n}\n","import {\n  LOAD_START, CAN_PLAY,\n  WAITING, CAN_PLAY_THROUGH, PLAYING,\n  PLAY, PAUSE, END, SEEKING, SEEKED,\n  SEEKING_TIME, END_SEEKING, DURATION_CHANGE,\n  TIME_UPDATE, VOLUME_CHANGE, PROGRESS_CHANGE,\n  RATE_CHANGE, SUSPEND, ABORT, EMPTIED,\n  STALLED, LOADED_META_DATA, LOADED_DATA,\n  RESIZE, ERROR\n} from '../actions/video';\nimport { FULLSCREEN_CHANGE, PLAYER_ACTIVATE, USER_ACTIVATE } from '../actions/player';\n\nconst initialState = {\n  currentSrc: null,\n  duration: 0,\n  currentTime: 0,\n  seekingTime: 0,\n  buffered: null,\n  waiting: false,\n  seeking: false,\n  paused: true,\n  autoPaused: false,\n  ended: false,\n  playbackRate: 1,\n  muted: false,\n  volume: 1,\n  readyState: 0,\n  networkState: 0,\n  videoWidth: 0,\n  videoHeight: 0,\n  hasStarted: false,\n  userActivity: false, //todo different with original\n  isActive: false,\n  isFullscreen: false,\n};\n\nexport function player(state = initialState, action) {\n  switch (action.type) {\n    case USER_ACTIVATE:\n      return {\n        ...state,\n        userActivity: action.activity\n      };\n    case PLAYER_ACTIVATE:\n      return {\n        ...state,\n        isActive: action.activity\n      };\n    case FULLSCREEN_CHANGE:\n      return {\n        ...state,\n        isFullscreen: !!action.isFullscreen,\n      };\n    case SEEKING_TIME:\n      return {\n        ...state,\n        seekingTime: action.time\n      };\n    case END_SEEKING:\n      return {\n        ...state,\n        seekingTime: 0,\n      };\n    case LOAD_START:\n      return {\n        ...state,\n        ...action.videoProps,\n        hasStarted: false,\n        ended: false,\n      };\n    case CAN_PLAY:\n      return {\n        ...state,\n        ...action.videoProps,\n        waiting: false,\n      };\n    case WAITING:\n      return {\n        ...state,\n        ...action.videoProps,\n        waiting: true\n      };\n    case CAN_PLAY_THROUGH:\n    case PLAYING:\n      return {\n        ...state,\n        ...action.videoProps,\n        waiting: false\n      };\n    case PLAY:\n      return {\n        ...state,\n        ...action.videoProps,\n        ended: false,\n        paused: false,\n        autoPaused: false,\n        waiting: false,\n        hasStarted: true,\n      };\n    case PAUSE:\n      return {\n        ...state,\n        ...action.videoProps,\n        paused: true\n      };\n    case END:\n      return {\n        ...state,\n        ...action.videoProps,\n        ended: true\n      };\n    case SEEKING:\n      return {\n        ...state,\n        ...action.videoProps,\n        seeking: true\n      };\n    case SEEKED:\n      return {\n        ...state,\n        ...action.videoProps,\n        seeking: false\n      };\n    case ERROR:\n      return {\n        ...state,\n        ...action.videoProps,\n        error: 'UNKNOWN ERROR',\n        ended: true\n      };\n    case DURATION_CHANGE:\n    case TIME_UPDATE:\n    case VOLUME_CHANGE:\n    case PROGRESS_CHANGE:\n    case RATE_CHANGE:\n    case SUSPEND:\n    case ABORT:\n    case EMPTIED:\n    case STALLED:\n    case LOADED_META_DATA:\n    case LOADED_DATA:\n    case RESIZE:\n      const newState = {\n        ...state,\n        ...action.videoProps,\n      };\n      if (action.videoProps.paused === false) {\n        newState.hasStarted = true;\n        newState.waiting = false;\n      }\n      return newState;\n    default:\n      return state;\n  }\n}\n\nexport default player;\n","import { OPERATE } from '../actions/player'\n\nconst initialState = {\n  count: 0,\n  operation: {\n    action: '',\n    source: '',\n  },\n}\n\nexport function operation (state = initialState, action) {\n  switch (action.type) {\n    case OPERATE:\n      return {\n        ...state,\n        count: state.count + 1,\n        operation: {\n          ...state.operation,\n          ...action.operation,\n        },\n      }\n    default:\n      return state\n  }\n}\n\nexport default operation\n","import { default as player } from './player';\nimport { default as operation } from './operation';\n\nexport default function (state = {}, action) {\n  return {\n    player: player(state.player, action),\n    operation: operation(state.operation, action),\n  };\n}\n\nexport const playerReducer = player;\nexport const operationReducer = operation;\n","import { createStore } from 'redux'\nimport reducer from './reducers'\nimport * as playerActions from './actions/player'\nimport * as videoActions from './actions/video'\n\nexport default class Manager {\n  constructor (store) {\n    this.store = store || createStore(\n      reducer,\n      window.__REDUX_DEVTOOLS_EXTENSION__ &&\n      window.__REDUX_DEVTOOLS_EXTENSION__(),\n    )\n\n    this.video = null\n    this.rootElement = null\n  }\n\n  getActions () {\n    const manager = this\n    const {dispatch} = this.store\n    const actions = {\n      ...playerActions,\n      ...videoActions,\n    }\n\n    function bindActionCreator (actionCreator) {\n      return function bindAction () {\n        // eslint-disable-next-line prefer-rest-params\n        const action = actionCreator.apply(manager, arguments)\n        if (typeof action !== 'undefined') {\n          dispatch(action)\n        }\n      }\n    }\n\n    return Object.keys(actions).filter(\n      key => typeof actions[key] === 'function',\n    ).reduce((boundActions, key) => {\n      boundActions[key] = bindActionCreator(actions[key])\n      return boundActions\n    }, {})\n  }\n\n  getState () {\n    return this.store.getState()\n  }\n\n  // subscribe state change\n  subscribeToStateChange (listener, getState) {\n    if (!getState) {\n      getState = this.getState.bind(this)\n    }\n\n    let prevState = getState()\n\n    const handleChange = () => {\n      const state = getState()\n      if (state === prevState) {\n        return\n      }\n      const prevStateCopy = prevState\n      prevState = state\n      listener(state, prevStateCopy)\n    }\n\n    return this.store.subscribe(handleChange)\n  }\n\n  // subscribe to operation state change\n  subscribeToOperationStateChange (listener) {\n    return this.subscribeToStateChange(listener,\n      () => this.getState().operation)\n  }\n\n  // subscribe to player state change\n  subscribeToPlayerStateChange (listener) {\n    return this.subscribeToStateChange(listener, () => this.getState().player)\n  }\n}\n\n","import React from 'react';\n\n/**\n * @file format-time.js\n *\n * Format seconds as a time string, H:MM:SS or M:SS\n * Supplying a guide (in seconds) will force a number of leading zeros\n * to cover the length of the guide\n *\n * @param  {Number} seconds Number of seconds to be turned into a string\n * @param  {Number} guide   Number (in seconds) to model the string after\n * @return {String}         Time formatted as H:MM:SS or M:SS\n * @private\n * @function formatTime\n */\nexport function formatTime(seconds = 0, guide = seconds) {\n  let s = Math.floor(seconds % 60);\n  let m = Math.floor((seconds / 60) % 60);\n  let h = Math.floor(seconds / 3600);\n  const gm = Math.floor((guide / 60) % 60);\n  const gh = Math.floor(guide / 3600);\n\n  // handle invalid times\n  if (isNaN(seconds) || seconds === Infinity) {\n    // '-' is false for all relational operators (e.g. <, >=) so this setting\n    // will add the minimum number of fields specified by the guide\n    h = m = s = '-';\n  }\n\n  // Check if we need to show hours\n  h = (h > 0 || gh > 0) ? `${h}:` : '';\n\n  // If hours are showing, we may need to add a leading zero.\n  // Always show at least one digit of minutes.\n  m = `${(((h || gm >= 10) && m < 10) ? `0${m}` : m)}:`;\n\n  // Check if leading zero is need for seconds\n  s = (s < 10) ? `0${s}` : s;\n\n  return h + m + s;\n}\n\n// Check if the element belongs to a video element\n// only accept <source />, <track />,\n// <MyComponent isVideoChild />\n// elements\nexport function isVideoChild(c) {\n  if (c.props && c.props.isVideoChild) {\n    return true;\n  }\n  return (c.type === 'source' || c.type === 'track');\n}\n\nconst find = (elements, func) => elements.filter(func)[0];\n\n// check if two components are the same type\nconst isTypeEqual = (component1, component2) => {\n  const type1 = component1.type;\n  const type2 = component2.type;\n\n  if (typeof type1 === 'string' || typeof type2 === 'string') {\n    return type1 === type2;\n  }\n\n  if (typeof type1 === 'function' && typeof type2 === 'function') {\n    return type1.displayName === type2.displayName;\n  }\n\n  return false;\n}\n\n// merge default children\n// sort them by `order` property\n// filter them by `disabled` property\nexport function mergeAndSortChildren(defaultChildren, _children, _parentProps, defaultOrder = 1) {\n  const children = React.Children.toArray(_children);\n  const parentProps = { ..._parentProps };\n  return children\n    .filter((e) => !e.props.disabled) // filter the disabled components\n    .concat(\n      defaultChildren.filter(\n        (c) => !find(children, (component) => isTypeEqual(component, c))\n      )\n    )\n    .map((element) => {\n      const defaultComponent = find(defaultChildren, (c) => isTypeEqual(c, element));\n      delete parentProps.order;\n      const defaultProps = defaultComponent ? defaultComponent.props : {};\n      const props = {\n        ...parentProps, // inherit from parent component\n        ...defaultProps, // inherit from default component\n        ...element.props, // element's own props\n      };\n      const e = React.cloneElement(\n        element,\n        props,\n        element.props.children\n      );\n      return e;\n    })\n    .sort((a, b) => (a.props.order || defaultOrder) - (b.props.order || defaultOrder));\n}\n\n/**\n * Temporary utility for generating the warnings\n */\nexport function deprecatedWarning(oldMethodCall, newMethodCall) {\n  // eslint-disable-next-line no-console\n  console.warn(`WARNING: ${oldMethodCall} will be deprecated soon! Please use ${newMethodCall} instead.`);\n}\n\nexport function throttle(callback, limit) {\n  let wait = false;\n  return () => {\n    if (!wait) {\n      callback.apply(null, arguments);\n      wait = true;\n      setTimeout(() => {\n        wait = false;\n      }, limit);\n    }\n  }\n}\n\nexport const mediaProperties = [\n  'error', 'src', 'srcObject',\n  'currentSrc', 'crossOrigin',\n  'networkState', 'preload', 'buffered',\n  'readyState', 'seeking', 'currentTime',\n  'duration', 'paused', 'defaultPlaybackRate',\n  'playbackRate', 'played', 'seekable',\n  'ended', 'autoplay', 'loop',\n  'mediaGroup', 'controller', 'controls',\n  'volume', 'muted', 'defaultMuted',\n  'audioTracks', 'videoTracks', 'textTracks',\n  'width', 'height', 'videoWidth', 'videoHeight',\n  'poster'\n];\n","import PropTypes from 'prop-types'\nimport React, {Component} from 'react'\nimport {isVideoChild, mediaProperties, throttle} from '../utils'\n\nconst propTypes = {\n    actions: PropTypes.object,\n    player: PropTypes.object,\n    children: PropTypes.any,\n    startTime: PropTypes.number,\n    loop: PropTypes.bool,\n    muted: PropTypes.bool,\n    autoPlay: PropTypes.bool,\n    playsInline: PropTypes.bool,\n    src: PropTypes.string,\n    poster: PropTypes.string,\n    className: PropTypes.string,\n    preload: PropTypes.oneOf(['auto', 'metadata', 'none']),\n    crossOrigin: PropTypes.string,\n\n    onLoadStart: PropTypes.func,\n    onWaiting: PropTypes.func,\n    onCanPlay: PropTypes.func,\n    onCanPlayThrough: PropTypes.func,\n    onPlaying: PropTypes.func,\n    onEnded: PropTypes.func,\n    onSeeking: PropTypes.func,\n    onSeeked: PropTypes.func,\n    onPlay: PropTypes.func,\n    onPause: PropTypes.func,\n    onProgress: PropTypes.func,\n    onDurationChange: PropTypes.func,\n    onError: PropTypes.func,\n    onSuspend: PropTypes.func,\n    onAbort: PropTypes.func,\n    onEmptied: PropTypes.func,\n    onStalled: PropTypes.func,\n    onLoadedMetadata: PropTypes.func,\n    onLoadedData: PropTypes.func,\n    onTimeUpdate: PropTypes.func,\n    onRateChange: PropTypes.func,\n    onVolumeChange: PropTypes.func,\n    onResize: PropTypes.func,\n}\n\nconst defaultProps = {\n    preload: 'auto',\n}\n\nexport default class Video extends Component {\n    constructor(props) {\n        super(props)\n        this.video = null // the html5 video\n        this.play = this.play.bind(this)\n        this.pause = this.pause.bind(this)\n        this.seek = this.seek.bind(this)\n        this.forward = this.forward.bind(this)\n        this.replay = this.replay.bind(this)\n        this.toggleFullscreen = this.toggleFullscreen.bind(this)\n        this.getProperties = this.getProperties.bind(this)\n        this.renderChildren = this.renderChildren.bind(this)\n        this.handleLoadStart = this.handleLoadStart.bind(this)\n        this.handleCanPlay = this.handleCanPlay.bind(this)\n        this.handleCanPlayThrough = this.handleCanPlayThrough.bind(this)\n        this.handlePlay = this.handlePlay.bind(this)\n        this.handlePlaying = this.handlePlaying.bind(this)\n        this.handlePause = this.handlePause.bind(this)\n        this.handleEnded = this.handleEnded.bind(this)\n        this.handleWaiting = this.handleWaiting.bind(this)\n        this.handleSeeking = this.handleSeeking.bind(this)\n        this.handleSeeked = this.handleSeeked.bind(this)\n        this.handleFullscreenChange = this.handleFullscreenChange.bind(this)\n        this.handleError = this.handleError.bind(this)\n        this.handleSuspend = this.handleSuspend.bind(this)\n        this.handleAbort = this.handleAbort.bind(this)\n        this.handleEmptied = this.handleEmptied.bind(this)\n        this.handleStalled = this.handleStalled.bind(this)\n        this.handleLoadedMetaData = this.handleLoadedMetaData.bind(this)\n        this.handleLoadedData = this.handleLoadedData.bind(this)\n        this.handleTimeUpdate = this.handleTimeUpdate.bind(this)\n        this.handleRateChange = this.handleRateChange.bind(this)\n        this.handleVolumeChange = this.handleVolumeChange.bind(this)\n        this.handleDurationChange = this.handleDurationChange.bind(this)\n        this.handleProgress = throttle(this.handleProgress.bind(this), 250)\n        this.handleKeypress = this.handleKeypress.bind(this)\n    }\n\n    componentDidMount() {\n        this.forceUpdate() // make sure the children can get the video property\n        this.video.setAttribute('webkit-playsinline', true)\n        this.video.setAttribute('x-webkit-airplay', 'allow')\n    }\n\n    // get all video properties\n    getProperties() {\n        if (!this.video) {\n            return null\n        }\n\n        return mediaProperties.reduce((properties, key) => {\n            properties[key] = this.video[key]\n            return properties\n        }, {})\n    }\n\n    // get playback rate\n    get playbackRate() {\n        return this.video.playbackRate\n    }\n\n    // set playback rate\n    // speed of video\n    set playbackRate(rate) {\n        this.video.playbackRate = rate\n    }\n\n    get muted() {\n        return this.video.muted\n    }\n\n    set muted(val) {\n        this.video.muted = val\n    }\n\n    get volume() {\n        return this.video.volume\n    }\n\n    set volume(val) {\n        if (val > 1) {\n            val = 1\n        }\n        if (val < 0) {\n            val = 0\n        }\n        this.video.volume = val\n    }\n\n    // video width\n    get videoWidth() {\n        return this.video.videoWidth\n    }\n\n    // video height\n    get videoHeight() {\n        return this.video.videoHeight\n    }\n\n    // play the video\n    play() {\n        const promise = this.video.play()\n        if (promise !== undefined) {\n            promise.catch(error => {\n            }).then(() => {\n            })\n        }\n    }\n\n    // pause the video\n    pause() {\n        const promise = this.video.pause()\n        if (promise !== undefined) {\n            promise.catch(error => {\n            }).then(() => {\n            })\n        }\n    }\n\n    // Change the video source and re-load the video:\n    load() {\n        this.video.load()\n    }\n\n    // Add a new text track to the video\n    addTextTrack(...args) {\n        this.video.addTextTrack(...args)\n    }\n\n    // Check if your browser can play different types of video:\n    canPlayType(...args) {\n        this.video.canPlayType(...args)\n    }\n\n    // toggle play\n    togglePlay() {\n        if (this.video.paused) {\n            this.play()\n        } else {\n            this.pause()\n        }\n    }\n\n    // seek video by time\n    seek(time) {\n        try {\n            this.video.currentTime = time\n        } catch (e) {\n            // console.log(e, 'Video is not ready.')\n        }\n    }\n\n    // jump forward x seconds\n    forward(seconds) {\n        this.seek(this.video.currentTime + seconds)\n    }\n\n    // jump back x seconds\n    replay(seconds) {\n        this.forward(-seconds)\n    }\n\n    // enter or exist full screen\n    toggleFullscreen() {\n        const {player, actions} = this.props\n        actions.toggleFullscreen(player)\n    }\n\n    // Fired when the user agent\n    // begins looking for media data\n    handleLoadStart(...args) {\n        const {actions, onLoadStart} = this.props\n        actions.handleLoadStart(this.getProperties())\n        if (onLoadStart) {\n            onLoadStart(...args)\n        }\n    }\n\n    // A handler for events that\n    // signal that waiting has ended\n    handleCanPlay(...args) {\n        const {actions, onCanPlay} = this.props\n        actions.handleCanPlay(this.getProperties())\n        if (onCanPlay) {\n            onCanPlay(...args)\n        }\n    }\n\n    // A handler for events that\n    // signal that waiting has ended\n    handleCanPlayThrough(...args) {\n        const {actions, onCanPlayThrough} = this.props\n        actions.handleCanPlayThrough(this.getProperties())\n\n        if (onCanPlayThrough) {\n            onCanPlayThrough(...args)\n        }\n    }\n\n    // A handler for events that\n    // signal that waiting has ended\n    handlePlaying(...args) {\n        const {actions, onPlaying} = this.props\n        actions.handlePlaying(this.getProperties())\n\n        if (onPlaying) {\n            onPlaying(...args)\n        }\n    }\n\n    // Fired whenever the media has been started\n    handlePlay(...args) {\n        const {actions, onPlay} = this.props\n        actions.handlePlay(this.getProperties())\n\n        if (onPlay) {\n            onPlay(...args)\n        }\n    }\n\n    // Fired whenever the media has been paused\n    handlePause(...args) {\n        const {actions, onPause} = this.props\n        actions.handlePause(this.getProperties())\n\n        if (onPause) {\n            onPause(...args)\n        }\n    }\n\n    // Fired when the duration of\n    // the media resource is first known or changed\n    handleDurationChange(...args) {\n        const {actions, onDurationChange} = this.props\n        actions.handleDurationChange(this.getProperties())\n\n        if (onDurationChange) {\n            onDurationChange(...args)\n        }\n    }\n\n    // Fired while the user agent\n    // is downloading media data\n    handleProgress(...args) {\n        const {actions, onProgress} = this.props\n        if (this.video) {\n            actions.handleProgressChange(this.getProperties())\n        }\n\n        if (onProgress) {\n            onProgress(...args)\n        }\n    }\n\n    // Fired when the end of the media resource\n    // is reached (currentTime == duration)\n    handleEnded(...args) {\n        const {loop, player, actions, onEnded} = this.props\n        if (loop) {\n            this.seek(0)\n            this.play()\n        } else if (!player.paused) {\n            this.pause()\n        }\n        actions.handleEnd(this.getProperties())\n\n        if (onEnded) {\n            onEnded(...args)\n        }\n    }\n\n    // Fired whenever the media begins waiting\n    handleWaiting(...args) {\n        const {actions, onWaiting} = this.props\n        actions.handleWaiting(this.getProperties())\n\n        if (onWaiting) {\n            onWaiting(...args)\n        }\n    }\n\n    // Fired whenever the player\n    // is jumping to a new time\n    handleSeeking(...args) {\n        const {actions, onSeeking} = this.props\n        actions.handleSeeking(this.getProperties())\n\n        if (onSeeking) {\n            onSeeking(...args)\n        }\n    }\n\n    // Fired when the player has\n    // finished jumping to a new time\n    handleSeeked(...args) {\n        const {actions, onSeeked} = this.props\n        actions.handleSeeked(this.getProperties())\n\n        if (onSeeked) {\n            onSeeked(...args)\n        }\n    }\n\n    // Handle Fullscreen Change\n    handleFullscreenChange() {\n    }\n\n    // Fires when the browser is\n    // intentionally not getting media data\n    handleSuspend(...args) {\n        const {actions, onSuspend} = this.props\n        actions.handleSuspend(this.getProperties())\n        if (onSuspend) {\n            onSuspend(...args)\n        }\n    }\n\n    // Fires when the loading of an audio/video is aborted\n    handleAbort(...args) {\n        const {actions, onAbort} = this.props\n        actions.handleAbort(this.getProperties())\n        if (onAbort) {\n            onAbort(...args)\n        }\n    }\n\n    // Fires when the current playlist is empty\n    handleEmptied(...args) {\n        const {actions, onEmptied} = this.props\n        actions.handleEmptied(this.getProperties())\n        if (onEmptied) {\n            onEmptied(...args)\n        }\n    }\n\n    // Fires when the browser is trying to\n    // get media data, but data is not available\n    handleStalled(...args) {\n        const {actions, onStalled} = this.props\n        actions.handleStalled(this.getProperties())\n\n        if (onStalled) {\n            onStalled(...args)\n        }\n    }\n\n    // Fires when the browser has loaded\n    // meta data for the audio/video\n    handleLoadedMetaData(...args) {\n        const {actions, onLoadedMetadata, startTime} = this.props\n\n        if (startTime && startTime > 0) {\n            this.video.currentTime = startTime\n        }\n\n        actions.handleLoadedMetaData(this.getProperties())\n\n        if (onLoadedMetadata) {\n            onLoadedMetadata(...args)\n        }\n    }\n\n    // Fires when the browser has loaded\n    // the current frame of the audio/video\n    handleLoadedData(...args) {\n        const {actions, onLoadedData} = this.props\n        actions.handleLoadedData(this.getProperties())\n\n        if (onLoadedData) {\n            onLoadedData(...args)\n        }\n    }\n\n    // Fires when the current\n    // playback position has changed\n    handleTimeUpdate(...args) {\n        const {actions, onTimeUpdate} = this.props\n        actions.handleTimeUpdate(this.getProperties())\n\n        if (onTimeUpdate) {\n            onTimeUpdate(...args)\n        }\n    }\n\n    /**\n     * Fires when the playing speed of the audio/video is changed\n     */\n    handleRateChange(...args) {\n        const {actions, onRateChange} = this.props\n        actions.handleRateChange(this.getProperties())\n\n        if (onRateChange) {\n            onRateChange(...args)\n        }\n    }\n\n    // Fires when the volume has been changed\n    handleVolumeChange(...args) {\n        const {actions, onVolumeChange} = this.props\n        actions.handleVolumeChange(this.getProperties())\n\n        if (onVolumeChange) {\n            onVolumeChange(...args)\n        }\n    }\n\n    // Fires when an error occurred\n    // during the loading of an audio/video\n    handleError(...args) {\n        const {actions, onError} = this.props\n        actions.handleError(this.getProperties())\n        if (onError) {\n            onError(...args)\n        }\n    }\n\n    handleResize(...args) {\n        const {actions, onResize} = this.props\n        actions.handleResize(this.getProperties())\n        if (onResize) {\n            onResize(...args)\n        }\n    }\n\n    handleKeypress() {\n\n    }\n\n    renderChildren() {\n        const props = {\n            ...this.props,\n            video: this.video,\n        }\n\n        // to make sure the children can get video property\n        if (!this.video) {\n            return null\n        }\n\n        // only keep <source />, <track />, <MyComponent isVideoChild /> elements\n        return React.Children.toArray(this.props.children).filter(isVideoChild).map((c) => {\n            let cprops\n            if (typeof c.type === 'string') {\n                // add onError to <source />\n                if (c.type === 'source') {\n                    cprops = {...c.props}\n                    const preOnError = cprops.onError\n                    cprops.onError = (...args) => {\n                        if (preOnError) {\n                            preOnError(...args)\n                        }\n                        this.handleError(...args)\n                    }\n                }\n            } else {\n                cprops = props\n            }\n            return React.cloneElement(\n                c,\n                cprops,\n            )\n        })\n    }\n\n    render() {\n        const {\n            loop, poster, preload, src, autoPlay, muted, crossOrigin, videoId,\n        } = this.props\n        return (\n            <video\n                className='video'\n                id={videoId}\n                crossOrigin={crossOrigin}\n                ref={(c) => {\n                    this.video = c\n                }}\n                muted={muted}\n                preload={preload}\n                loop={loop}\n                playsInline={true}\n                autoPlay={autoPlay}\n                poster={poster}\n                src={src}\n                onLoadStart={this.handleLoadStart}\n                onWaiting={this.handleWaiting}\n                onCanPlay={this.handleCanPlay}\n                onCanPlayThrough={this.handleCanPlayThrough}\n                onPlaying={this.handlePlaying}\n                onEnded={this.handleEnded}\n                onSeeking={this.handleSeeking}\n                onSeeked={this.handleSeeked}\n                onPlay={this.handlePlay}\n                onPause={this.handlePause}\n                onProgress={this.handleProgress}\n                onDurationChange={this.handleDurationChange}\n                onError={this.handleError}\n                onSuspend={this.handleSuspend}\n                onAbort={this.handleAbort}\n                onEmptied={this.handleEmptied}\n                onStalled={this.handleStalled}\n                onLoadedMetadata={this.handleLoadedMetaData}\n                onLoadedData={this.handleLoadedData}\n                onTimeUpdate={this.handleTimeUpdate}\n                onRateChange={this.handleRateChange}\n                onVolumeChange={this.handleVolumeChange}\n                tabIndex={0}\n            >\n                {this.renderChildren()}\n            </video>\n        )\n    }\n}\n\nVideo.propTypes = propTypes\nVideo.defaultProps = defaultProps\nVideo.displayName = 'Video'\n","import React, { Component } from 'react';\nimport Hls from 'hls.js';\n\nexport default class HLSSource extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.hls = new Hls();\n    }\n\n    componentDidMount() {\n        // `src` is the property get from this component\n        // `video` is the property insert from `Video` component\n        // `video` is the html5 video element\n        const { src, video } = this.props;\n        // load hls video source base on hls.js\n        if (Hls.isSupported()) {\n            this.hls.loadSource(src);\n            this.hls.attachMedia(video);\n            this.hls.on(Hls.Events.MANIFEST_PARSED, () => {\n                video.play();\n            });\n        }\n    }\n\n\n    componentWillUnmount() {\n        // destroy hls video source\n        if (this.hls) {\n            this.hls.destroy();\n        }\n    }\n\n    render() {\n        return null\n        // return (\n        //     <source\n        //         src={this.props.src}\n        //         type={this.props.type || 'application/x-mpegURL'}\n        //     />\n        // );\n    }\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classNames from 'classnames'\n\nconst propTypes = {\n    actions: PropTypes.object,\n    player: PropTypes.object,\n}\nexport default class PlayToggle extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    shouldComponentUpdate(nextProps) {\n        return nextProps.player.paused !== this.props.player.paused\n    }\n\n    handleClick() {\n        const {actions, player} = this.props\n        if (player.paused) {\n            actions.play()\n        } else {\n            actions.pause()\n        }\n    }\n\n    render() {\n        return (\n            <button className={classNames({\n                'video-play-toggle-button': true,\n                'video-paused': this.props.player.paused,\n            }, 'video-control', 'tool-tip')}\n                    onClick={() => this.handleClick()}\n                    tabIndex={0}>\n                <div\n                    className='tool-tip-text top-center'>\n                    {this.props.player.paused ? 'Phát' : 'Dừng'}\n                </div>\n            </button>\n        )\n    }\n}\n","import { findDOMNode } from 'react-dom';\n\n/**\n * Offset Left\n * getBoundingClientRect technique from\n * John Resig http://ejohn.org/blog/getboundingclientrect-is-awesome/\n *\n * @function findElPosition\n * @param {Element} el Element from which to get offset\n * @return {Object}\n */\nexport function findElPosition(el) {\n  let box;\n\n  if (el.getBoundingClientRect && el.parentNode) {\n    box = el.getBoundingClientRect();\n  }\n\n  if (!box) {\n    return {\n      left: 0,\n      top: 0,\n    };\n  }\n\n  const docEl = document.documentElement;\n  const body = document.body;\n\n  const clientLeft = docEl.clientLeft || body.clientLeft || 0;\n  const scrollLeft = window.pageXOffset || body.scrollLeft;\n  const left = (box.left + scrollLeft) - clientLeft;\n\n  const clientTop = docEl.clientTop || body.clientTop || 0;\n  const scrollTop = window.pageYOffset || body.scrollTop;\n  const top = (box.top + scrollTop) - clientTop;\n\n  // Android sometimes returns slightly off decimal values, so need to round\n  return {\n    left: Math.round(left),\n    top: Math.round(top),\n  };\n}\n\n\n/**\n * Get pointer position in element\n * Returns an object with x and y coordinates.\n * The base on the coordinates are the bottom left of the element.\n *\n * @function getPointerPosition\n * @param {Element} el Element on which to get the pointer position on\n * @param {Event} event Event object\n * @return {Object} This object will have x and y coordinates corresponding to the mouse position\n */\nexport function getPointerPosition(el, event) {\n  const position = {};\n  const box = findElPosition(el);\n  const boxW = el.offsetWidth;\n  const boxH = el.offsetHeight;\n\n  const boxY = box.top;\n  const boxX = box.left;\n  let pageY = event.pageY;\n  let pageX = event.pageX;\n\n  if (event.changedTouches) {\n    pageX = event.changedTouches[0].pageX;\n    pageY = event.changedTouches[0].pageY;\n  }\n\n  position.y = Math.max(0, Math.min(1, ((boxY - pageY) + boxH) / boxH));\n  position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n\n  return position;\n}\n\n// blur an element\nexport function blurNode(reactNode) {\n  const domNode = findDOMNode(reactNode);\n  if (domNode && domNode.blur) {\n    domNode.blur();\n  }\n}\n\n// check if an element has a class name\nexport function hasClass(elm, cls) {\n  const classes = elm.className.split(' ');\n  for (let i = 0; i < classes.length; i++) {\n    if (classes[i].toLowerCase() === cls.toLowerCase()) {\n      return true;\n    }\n  }\n  return false;\n}\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport classNames from 'classnames';\nimport * as Dom from '../utils/dom';\n\nconst propTypes = {\n  className: PropTypes.string,\n  onMouseDown: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  stepForward: PropTypes.func,\n  stepBack: PropTypes.func,\n  sliderActive: PropTypes.func,\n  sliderInactive: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onClick: PropTypes.func,\n  getPercent: PropTypes.func,\n  vertical: PropTypes.bool,\n  children: PropTypes.node,\n  label: PropTypes.string,\n  valuenow: PropTypes.string,\n  valuetext: PropTypes.string,\n};\n\nexport default class Slider extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.stepForward = this.stepForward.bind(this);\n    this.stepBack = this.stepBack.bind(this);\n    this.calculateDistance = this.calculateDistance.bind(this);\n    this.getProgress = this.getProgress.bind(this);\n    this.renderChildren = this.renderChildren.bind(this);\n\n    this.state = {\n      active: false,\n    };\n  }\n\n  getProgress() {\n    const { getPercent } = this.props;\n    if (!getPercent) {\n      return 0;\n    }\n    let progress = getPercent();\n\n    // Protect against no duration and other division issues\n    if (typeof progress !== 'number' ||\n      progress < 0 ||\n      progress === Infinity) {\n      progress = 0;\n    }\n    return progress;\n  }\n\n  handleMouseDown(event) {\n    const { onMouseDown } = this.props;\n    // event.preventDefault();\n    // event.stopPropagation();\n\n    document.addEventListener('mousemove', this.handleMouseMove, true);\n    document.addEventListener('mouseup', this.handleMouseUp, true);\n    document.addEventListener('touchmove', this.handleMouseMove, true);\n    document.addEventListener('touchend', this.handleMouseUp, true);\n\n    this.setState({\n      active: true,\n      distance: 0,\n    });\n\n    if (this.props.sliderActive) {\n      this.props.sliderActive(event);\n    }\n\n    this.handleMouseMove(event);\n\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n  }\n\n  handleMouseMove(event) {\n    const { onMouseMove } = this.props;\n\n    if (onMouseMove) {\n      onMouseMove(event);\n    }\n  }\n\n  handleMouseUp(event) {\n    const { onMouseUp } = this.props;\n\n    document.removeEventListener('mousemove', this.handleMouseMove, true);\n    document.removeEventListener('mouseup', this.handleMouseUp, true);\n    document.removeEventListener('touchmove', this.handleMouseMove, true);\n    document.removeEventListener('touchend', this.handleMouseUp, true);\n\n    this.setState({\n      active: false,\n    });\n\n    if (this.props.sliderInactive) {\n      this.props.sliderInactive(event);\n    }\n\n    if (onMouseUp) {\n      onMouseUp(event);\n    }\n  }\n\n  handleFocus(e) {\n    document.addEventListener('keydown', this.handleKeyPress, true);\n    if (this.props.onFocus) {\n      this.props.onFocus(e);\n    }\n  }\n\n  handleBlur(e) {\n    document.removeEventListener('keydown', this.handleKeyPress, true);\n    if (this.props.onBlur) {\n      this.props.onBlur(e);\n    }\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    // event.stopPropagation();\n    if (this.props.onClick) {\n      this.props.onClick(event);\n    }\n  }\n\n  handleKeyPress(event) {\n    if (event.which === 37 || event.which === 40) { // Left and Down Arrows\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepBack();\n    } else if (event.which === 38 || event.which === 39) { // Up and Right Arrows\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepForward();\n    }\n  }\n\n  stepForward() {\n    if (this.props.stepForward) {\n      this.props.stepForward();\n    }\n  }\n\n  stepBack() {\n    if (this.props.stepBack) {\n      this.props.stepBack();\n    }\n  }\n\n  calculateDistance(event) {\n    const node = findDOMNode(this);\n    const position = Dom.getPointerPosition(node, event);\n    if (this.props.vertical) {\n      return position.y;\n    }\n    return position.x;\n  }\n\n  renderChildren() {\n    const progress = this.getProgress();\n    const percentage = `${(progress * 100).toFixed(2)}%`;\n    return React.Children.map(this.props.children, child =>\n      React.cloneElement(child, { progress, percentage })\n    );\n  }\n\n  render() {\n    const { vertical, label, valuenow, valuetext } = this.props;\n\n    return (\n      <div\n        className={classNames(this.props.className, {\n          'video-react-slider-vertical': vertical,\n          'video-react-slider-horizontal': !vertical,\n          'video-react-sliding': this.state.active,\n        }, 'video-react-slider')}\n        tabIndex=\"0\"\n        onMouseDown={this.handleMouseDown}\n        onTouchStart={this.handleMouseDown}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        onClick={this.handleClick}\n        aria-label={label || ''}\n        aria-valuenow={valuenow || ''}\n        aria-valuetext={valuetext || ''}\n        aria-valuemin={0}\n        aria-valuemax={100}\n      >\n        { this.renderChildren() }\n      </div>\n    );\n  }\n}\n\nSlider.propTypes = propTypes;\nSlider.displayName = 'Slider';\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst propTypes = {\n  percentage: PropTypes.string,\n  vertical: PropTypes.bool,\n  className: PropTypes.string,\n}\n\nconst defaultProps = {\n  percentage: '100%',\n  vertical: false,\n}\n\nfunction VolumeLevel ({percentage}) {\n  return (\n    <div\n      className='video-volume-level video-control'\n      style={{width: `${percentage}`}}>\n    </div>\n  )\n}\n\nVolumeLevel.defaultProps = defaultProps\nVolumeLevel.propTypes = propTypes\nVolumeLevel.displayName = 'VolumeLevel'\nexport default VolumeLevel\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classNames from 'classnames'\n\nimport Slider from '../Slider'\nimport VolumeLevel from './VolumeLevel'\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n  className: PropTypes.string,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n}\n\nclass VolumeBar extends Component {\n  constructor (props, context) {\n    super(props, context)\n\n    this.state = {\n      percentage: '0%',\n    }\n\n    this.handleMouseMove = this.handleMouseMove.bind(this)\n    this.handlePercentageChange = this.handlePercentageChange.bind(this)\n    this.checkMuted = this.checkMuted.bind(this)\n    this.getPercent = this.getPercent.bind(this)\n    this.stepForward = this.stepForward.bind(this)\n    this.stepBack = this.stepBack.bind(this)\n    this.handleFocus = this.handleFocus.bind(this)\n    this.handleBlur = this.handleBlur.bind(this)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  componentDidMount () {\n  }\n\n  getPercent () {\n    const {player} = this.props\n    if (player.muted) {\n      return 0\n    }\n    return player.volume\n  }\n\n  checkMuted () {\n    const {player, actions} = this.props\n    if (player.muted) {\n      actions.mute(false)\n    }\n  }\n\n  handleMouseMove (event) {\n    const {actions} = this.props\n    this.checkMuted()\n    const distance = this.slider.calculateDistance(event)\n    actions.changeVolume(distance)\n  }\n\n  stepForward () {\n    const {player, actions} = this.props\n    this.checkMuted()\n    actions.changeVolume(player.volume + 0.1)\n  }\n\n  stepBack () {\n    const {player, actions} = this.props\n    this.checkMuted()\n    actions.changeVolume(player.volume - 0.1)\n  }\n\n  handleFocus (e) {\n    if (this.props.onFocus) {\n      this.props.onFocus(e)\n    }\n  }\n\n  handleBlur (e) {\n    if (this.props.onBlur) {\n      this.props.onBlur(e)\n    }\n  }\n\n  handlePercentageChange (percentage) {\n    if (percentage !== this.state.percentage) {\n      this.setState({\n        percentage,\n      })\n    }\n  }\n\n  handleClick (event) {\n    event.stopPropagation()\n  }\n\n  render () {\n    const {player} = this.props\n\n    const volume = (player.volume * 100).toFixed(2)\n    return (\n      <Slider\n        ref={(c) => {\n          this.slider = c\n        }}\n        label=\"volume level\"\n        valuenow={volume}\n        valuetext={`${volume}%`}\n        onMouseMove={this.handleMouseMove}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        onClick={this.handleClick}\n        sliderActive={this.handleFocus}\n        sliderInactive={this.handleBlur}\n        getPercent={this.getPercent}\n        onPercentageChange={this.handlePercentageChange}\n        stepForward={this.stepForward}\n        stepBack={this.stepBack}\n        {...this.props}\n        className='video-volume-bar video-control'\n      >\n        <VolumeLevel\n          {...this.props}\n        />\n      </Slider>\n    )\n  }\n}\n\nVolumeBar.propTypes = propTypes\nVolumeBar.displayName = 'VolumeBar'\n\nexport default VolumeBar\n","import PropTypes from 'prop-types'\nimport React, {Component} from 'react'\nimport classNames from 'classnames'\nimport VolumeBar from '../volume-control/VolumeBar'\n\nconst propTypes = {\n    player: PropTypes.object,\n    actions: PropTypes.object,\n    className: PropTypes.string,\n}\n\nclass VolumeMenuButton extends Component {\n\n    constructor(props, context) {\n        super(props, context)\n\n        this.state = {\n            active: false,\n        }\n\n        this.handleClick = this.handleClick.bind(this)\n        this.handleFocus = this.handleFocus.bind(this)\n        this.handleBlur = this.handleBlur.bind(this)\n    }\n\n    handleClick() {\n        const {player, actions} = this.props\n        actions.mute(!player.muted)\n    }\n\n    handleFocus() {\n        this.setState({\n            active: true,\n        })\n    }\n\n    handleBlur() {\n        this.setState({\n            active: false,\n        })\n    }\n\n    get volumeLevel() {\n        const {player: {volume, muted}} = this.props\n        let level = 3\n        if (volume === 0 || muted) {\n            level = 0\n        } else if (volume < 0.33) {\n            level = 1\n        } else if (volume < 0.67) {\n            level = 2\n        }\n        return level\n    }\n\n    render() {\n        const {player} = this.props\n        const level = this.volumeLevel\n        return (\n            <div className={classNames({\n                'video-vol-slider-active': this.state.active,\n            }, 'video-volume-menu')}>\n                <button\n                    className={classNames({\n                            'video-vol-muted': player.muted,\n                            'video-vol-0': level === 0 && !player.muted,\n                            'video-vol-1': level === 1,\n                            'video-vol-2': level === 2,\n                            'video-vol-3': level === 3,\n                        },\n                        'video-volume-button video-control', 'tool-tip')} // add this video control class for prevent parent element get key-pressed event\n                    onClick={this.handleClick}\n                    onFocus={this.handleFocus}\n                    onBlur={this.handleBlur}>\n          <div className='tool-tip-text top-center'>Âm luợng</div>\n                </button>\n                <VolumeBar onFocus={this.handleFocus}\n                           onBlur={this.handleBlur}\n                           {...this.props} />\n            </div>\n        )\n    }\n}\n\nVolumeMenuButton.propTypes = propTypes\nVolumeMenuButton.displayName = 'VolumeMenuButton'\nexport default VolumeMenuButton\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { formatTime } from '../../utils'\n\nconst propTypes = {\n  currentTime: PropTypes.number,\n  duration: PropTypes.number,\n  percentage: PropTypes.string,\n  className: PropTypes.string,\n}\n\n// Shows play progress\nexport default function PlayProgressBar ({currentTime, duration, percentage}) {\n  return (\n    <div data-current-time={formatTime(currentTime, duration)}\n         className='video-play-progress video-slider-bar'\n         style={{\n           width: percentage,\n         }} />\n\n  )\n}\n\nPlayProgressBar.propTypes = propTypes\nPlayProgressBar.displayName = 'PlayProgressBar'\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport classNames from 'classnames'\n\nconst propTypes = {\n  duration: PropTypes.number,\n  buffered: PropTypes.object,\n}\n\n// Shows load progress\nexport default function LoadProgressBar ({buffered, duration}) {\n  if (!buffered || !buffered.length) {\n    return null\n  }\n  let bufferedEnd = buffered.end(buffered.length - 1)\n  let style = {}\n\n  if (bufferedEnd > duration) {\n    bufferedEnd = duration\n  }\n\n  // get the percent width of a time compared to the total end\n  function percentify (time, end) {\n    const percent = (time / end) || 0 // no NaN\n    return `${((percent >= 1 ? 1 : percent) * 100)}%`\n  }\n\n  // the width of the progress bar\n  style.width = percentify(bufferedEnd, duration)\n\n  let parts = []\n\n\n  // add child elements to represent the individual buffered time ranges\n  for (let i = 0; i < buffered.length; i++) {\n    const start = buffered.start(i)\n    const end = buffered.end(i)\n    // set the percent based on the width of the progress bar (bufferedEnd)\n    const part = (\n      <div\n        style={{\n          left: percentify(start, bufferedEnd),\n          width: percentify(end - start, bufferedEnd),\n        }}\n        key={`part-${i}`}\n      />\n    )\n    parts.push(part)\n  }\n\n  if (parts.length === 0) {\n    parts = null\n  }\n\n  return (\n    <div\n      style={style}\n      className='video-load-progress'>\n      {parts}\n    </div>\n  )\n}\n\nLoadProgressBar.propTypes = propTypes\nLoadProgressBar.displayName = 'LoadProgressBar'\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport { formatTime } from '../../utils'\n\nfunction MouseTimeDisplay ({duration, mouseTime, text}) {\n  if (!mouseTime.time) {\n    return null\n  }\n\n  const time = text || formatTime(mouseTime.time, duration)\n\n  return (\n    <span\n      className='video-mouse-time-display video-control'\n      style={{\n        left: `${mouseTime.position}px`,\n      }}\n    >\n      {time}\n    </span>\n  )\n}\n\nMouseTimeDisplay.propTypes = {\n  duration: PropTypes.number,\n  mouseTime: PropTypes.object,\n}\nMouseTimeDisplay.displayName = 'MouseTimeDisplay'\n\nexport default MouseTimeDisplay\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nimport Slider from '../Slider';\nimport PlayProgressBar from './PlayProgressBar';\nimport LoadProgressBar from './LoadProgressBar';\nimport MouseTimeDisplay from './MouseTimeDisplay';\nimport { formatTime } from '../../utils';\n\nconst propTypes = {\n  player: PropTypes.object,\n  mouseTime: PropTypes.object,\n  actions: PropTypes.object,\n  className: PropTypes.string,\n};\n\nexport default class SeekBar extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.getPercent = this.getPercent.bind(this);\n    this.getNewTime = this.getNewTime.bind(this);\n    this.stepForward = this.stepForward.bind(this);\n    this.stepBack = this.stepBack.bind(this);\n\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n  }\n\n  componentDidMount() {\n  }\n\n  componentDidUpdate() {\n  }\n\n  /**\n   * Get percentage of video played\n   *\n   * @return {Number} Percentage played\n   * @method getPercent\n   */\n  getPercent() {\n    const { currentTime, seekingTime, duration } = this.props.player;\n    const time = seekingTime || currentTime;\n    const percent = time / duration;\n    return percent >= 1 ? 1 : percent;\n  }\n\n  getNewTime(event) {\n    const { player: { duration } } = this.props;\n    const distance = this.slider.calculateDistance(event);\n    const newTime = distance * duration;\n\n    // Don't let video end while scrubbing.\n    return newTime === duration ? newTime - 0.1 : newTime;\n  }\n\n  handleMouseDown() {\n  }\n\n  handleMouseUp(event) {\n    const { actions } = this.props;\n    const newTime = this.getNewTime(event);\n    // Set new time (tell video to seek to new time)\n    actions.seek(newTime);\n    actions.handleEndSeeking(newTime);\n  }\n\n  handleMouseMove(event) {\n    const { actions } = this.props;\n    const newTime = this.getNewTime(event);\n    actions.handleSeekingTime(newTime);\n  }\n\n\n  stepForward() {\n    const { actions } = this.props;\n    actions.forward(5);\n  }\n\n  stepBack() {\n    const { actions } = this.props;\n    actions.replay(5);\n  }\n\n  render() {\n    const { player: { currentTime, seekingTime, duration, buffered }, mouseTime } = this.props;\n    const time = seekingTime || currentTime;\n\n    return (\n      <Slider\n        ref={(input) => {\n          this.slider = input;\n        }}\n        label=\"video progress bar\"\n        className='video-progress-control-box video-control'\n        valuenow={(this.getPercent() * 100).toFixed(2)}\n        valuetext={formatTime(time, duration)}\n        onMouseDown={this.handleMouseDown}\n        onMouseMove={this.handleMouseMove}\n        onMouseUp={this.handleMouseUp}\n        getPercent={this.getPercent}\n        stepForward={this.stepForward}\n        stepBack={this.stepBack}\n      >\n        <LoadProgressBar\n          buffered={buffered}\n          currentTime={time}\n          duration={duration}\n        />\n        <MouseTimeDisplay\n          duration={duration}\n          mouseTime={mouseTime}\n        />\n        <PlayProgressBar\n          currentTime={time}\n          duration={duration}\n        />\n      </Slider>\n    );\n  }\n}\n\nSeekBar.propTypes = propTypes;\nSeekBar.displayName = 'SeekBar';\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { findDOMNode } from 'react-dom'\n\nimport * as Dom from '../../utils/dom'\nimport SeekBar from './SeekBar'\n\nconst propTypes = {\n  player: PropTypes.object,\n  className: PropTypes.string,\n};\n\nexport default class ProgressControl extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      mouseTime: {\n        time: null,\n        position: 0,\n      },\n    };\n\n    this.handleMouseMoveThrottle = this.handleMouseMove.bind(this);\n  }\n\n  handleMouseMove(event) {\n    if (!event.pageX) {\n      return;\n    }\n    const { player: { duration } } = this.props;\n    const node = findDOMNode(this.seekBar);\n    const newTime = Dom.getPointerPosition(node, event).x * duration;\n    const position = event.pageX - Dom.findElPosition(node).left;\n\n    this.setState({\n      mouseTime: {\n        time: newTime,\n        position,\n      },\n    });\n  }\n\n  render() {\n    return (\n      <div\n        onMouseMove={this.handleMouseMoveThrottle}\n        className='video-progress-control video-control'\n      >\n        <SeekBar\n          mouseTime={this.state.mouseTime}\n          ref={\n            (c) => {\n              this.seekBar = c;\n            }\n          }\n          {...this.props}\n        />\n      </div>\n    );\n  }\n}\n\nProgressControl.propTypes = propTypes;\nProgressControl.displayName = 'ProgressControl';\n","import PropTypes from 'prop-types'\nimport React, {Component} from 'react'\nimport classNames from 'classnames'\n\nconst propTypes = {\n    actions: PropTypes.object,\n    player: PropTypes.object,\n}\n\nexport default class FullscreenToggle extends Component {\n    shouldComponentUpdate(nextProps) {\n        return nextProps.player.isFullscreen !== this.props.player.isFullscreen\n    }\n\n    constructor(props, context) {\n        super(props, context)\n\n        this.handleClick = this.handleClick.bind(this)\n    }\n\n    handleClick() {\n        const {player, actions} = this.props\n        actions.toggleFullscreen(player)\n    }\n\n    render() {\n        const {player} = this.props\n        return (\n            <button\n                className={classNames({\n                        'ekiio-video-icon-fullscreen-exit': player.isFullscreen,\n                        'ekiio-video-icon-fullscreen': !player.isFullscreen,\n                    },\n                    'video-fullscreen-control video-control ekiio-video-icon', 'tool-tip')}\n                ref={\n                    (c) => {\n                        this.button = c\n                    }\n                }\n                tabIndex=\"0\"\n                onClick={this.handleClick}>\n                <div\n                    className='tool-tip-text top-left'>{this.props.player.isFullscreen ? 'Thoát chế độ toàn màn hình' : 'Toàn màn hình'}</div>\n            </button>\n        )\n    }\n}\n\nFullscreenToggle.propTypes = propTypes\nFullscreenToggle.displayName = 'FullscreenToggle'\n","import React from 'react'\n\nexport default class SettingToggle extends React.PureComponent {\n  render () {\n    return (\n      <button\n        className=\"ekiio-video-icon ekiio-video-icon-setting video-control tool-tip\"\n        onClick={this.props.toggleSetting} >\n        <div className='tool-tip-text top-center'>Tuỳ chỉnh</div>\n      </button>\n\n    )\n  }\n}\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport { formatTime } from '../../utils'\n\nconst propTypes = {\n  player: PropTypes.object,\n}\n\nfunction CurrentTimeDisplay ({player: {currentTime, duration}}) {\n  const formattedTime = formatTime(currentTime, duration)\n  return (\n    <span\n      className='video-current-time'>\n      {formattedTime}\n    </span>\n  )\n}\n\nCurrentTimeDisplay.propTypes = propTypes\nCurrentTimeDisplay.displayName = 'CurrentTimeDisplay'\n\nexport default CurrentTimeDisplay\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nimport { formatTime } from '../../utils'\n\nconst propTypes = {\n  player: PropTypes.object,\n}\n\nfunction DurationDisplay ({player: {duration}}) {\n  const formattedTime = formatTime(duration)\n  return (\n    <span\n      className=\"video-duration-display\">\n      {formattedTime}\n    </span>\n  )\n}\n\nDurationDisplay.propTypes = propTypes\nDurationDisplay.displayName = 'DurationDisplay'\n\nexport default DurationDisplay\n","import React from 'react'\nimport classNames from 'classnames'\n\nimport PlayToggle from './PlayToggle'\nimport VolumeMenuButton from './VolumeMenuButton'\nimport ProgressControl from './ProgressControl'\nimport FullscreenToggle from './FullscreenToggle'\nimport SettingToggle from './SettingToggle'\nimport CurrentTimeDisplay from '../time-controls/CurrentTimeDisplay'\nimport DurationDisplay from '../time-controls/DurationDisplay'\n\nconst ControlBar = (props) => {\n\n  const children = [\n    <PlayToggle key='toggle-play' {...props} />,\n    <VolumeMenuButton key='volume-menu-button' {...props} />,\n    <CurrentTimeDisplay key='current-time-display' player={props.player} />,\n    <ProgressControl key='progress-control' {...props} />,\n    <DurationDisplay key='duration-display' player={props.player} />,\n    <SettingToggle key='setting-popup-toggle' {...props} />,\n    <FullscreenToggle key='full-screen-toggle' {...props} />,\n  ]\n  return (\n    <div className={classNames('control-bar', 'control-bar-auto-hide')}>\n      {children}\n    </div>\n  )\n\n}\nexport default ControlBar\n","const USER_AGENT = typeof window !== 'undefined' && window.navigator ? window.navigator.userAgent : '';\n// const webkitVersionMap = (/AppleWebKit\\/([\\d.]+)/i).exec(USER_AGENT);\n// const appleWebkitVersion = webkitVersionMap ? parseFloat(webkitVersionMap.pop()) : null;\n\n/*\n * Device is an iPhone\n *\n * @type {Boolean}\n * @constant\n * @private\n */\nexport const IS_IPAD = (/iPad/i).test(USER_AGENT);\n\n// The Facebook app's UIWebView identifies as both an iPhone and iPad, so\n// to identify iPhones, we need to exclude iPads.\n// http://artsy.github.io/blog/2012/10/18/the-perils-of-ios-user-agent-sniffing/\nexport const IS_IPHONE = (/iPhone/i).test(USER_AGENT) && !IS_IPAD;\nexport const IS_IPOD = (/iPod/i).test(USER_AGENT);\nexport const IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { hasClass } from '../utils/dom';\n\nconst propTypes = {\n  clickable: PropTypes.bool,\n  dblclickable: PropTypes.bool,\n  manager: PropTypes.object,\n  actions: PropTypes.object,\n  player: PropTypes.object,\n  shortcuts: PropTypes.array,\n};\n\nconst defaultProps = {\n  clickable: true,\n  dblclickable: true,\n};\n\nexport default class Shortcut extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.defaultShortcuts = [\n      {\n        keyCode: 32, // spacebar\n        handle: this.togglePlay,\n      },\n      {\n        keyCode: 75, // k\n        handle: this.togglePlay,\n      },\n      {\n        keyCode: 70, // f\n        handle: this.toggleFullscreen,\n      },\n      {\n        keyCode: 37, // Left arrow\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.replay(5, {\n            action: 'replay-5',\n            source: 'shortcut',\n          }); // Go back 5 seconds\n        },\n      },\n      {\n        keyCode: 74, // j\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.replay(10, {\n            action: 'replay-10',\n            source: 'shortcut',\n          }); // Go back 10 seconds\n        },\n      },\n      {\n        keyCode: 39, // Right arrow\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.forward(5, {\n            action: 'forward-5',\n            source: 'shortcut',\n          }); // Go forward 5 seconds\n        },\n      },\n      {\n        keyCode: 76, // l\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.forward(10, {\n            action: 'forward-10',\n            source: 'shortcut',\n          }); // Go forward 10 seconds\n        },\n      },\n      {\n        keyCode: 36, // Home\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.seek(0); // Go to beginning of video\n        },\n      },\n      {\n        keyCode: 35, // End\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          // Go to end of video\n          actions.seek(player.duration);\n        },\n      },\n      {\n        keyCode: 38, // Up arrow\n        handle: (player, actions) => {\n          // Increase volume 5%\n          let v = player.volume + 0.05;\n          if (v > 1) {\n            v = 1;\n          }\n          actions.changeVolume(v, {\n            action: 'volume-up',\n            source: 'shortcut',\n          });\n        },\n      },\n      {\n        keyCode: 40, // Down arrow\n        handle: (player, actions) => {\n          // Decrease volume 5%\n          let v = player.volume - 0.05;\n          if (v < 0) {\n            v = 0;\n          }\n          const action = (v > 0) ? 'volume-down' : 'volume-off';\n          actions.changeVolume(v, {\n            action,\n            source: 'shortcut',\n          });\n        },\n      },\n      {\n        keyCode: 190, // Shift + >\n        shift: true,\n        handle: (player, actions) => {\n          // Increase speed\n          let playbackRate = player.playbackRate;\n          if (playbackRate >= 1.5) {\n            playbackRate = 2;\n          } else if (playbackRate >= 1.25) {\n            playbackRate = 1.5;\n          } else if (playbackRate >= 1.0) {\n            playbackRate = 1.25;\n          } else if (playbackRate >= 0.5) {\n            playbackRate = 1.0;\n          } else if (playbackRate >= 0.25) {\n            playbackRate = 0.5;\n          } else if (playbackRate >= 0) {\n            playbackRate = 0.25;\n          }\n          actions.changeRate(playbackRate, {\n            action: 'fast-forward',\n            source: 'shortcut',\n          });\n        },\n      },\n      {\n        keyCode: 188, // Shift + <\n        shift: true,\n        handle: (player, actions) => {\n          // Decrease speed\n          let playbackRate = player.playbackRate;\n          if (playbackRate <= 0.5) {\n            playbackRate = 0.25;\n          } else if (playbackRate <= 1.0) {\n            playbackRate = 0.5;\n          } else if (playbackRate <= 1.25) {\n            playbackRate = 1.0;\n          } else if (playbackRate <= 1.5) {\n            playbackRate = 1.25;\n          } else if (playbackRate <= 2) {\n            playbackRate = 1.5;\n          }\n          actions.changeRate(playbackRate, {\n            action: 'fast-rewind',\n            source: 'shortcut',\n          });\n        },\n      },\n    ];\n\n    this.shortcuts = [...this.defaultShortcuts];\n\n    this.mergeShortcuts = this.mergeShortcuts.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleDoubleClick = this.handleDoubleClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.mergeShortcuts();\n    document.addEventListener('keydown', this.handleKeyPress);\n    document.addEventListener('click', this.handleClick);\n    document.addEventListener('dblclick', this.handleDoubleClick);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.shortcuts !== this.props.shortcuts) {\n      this.mergeShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyPress);\n    document.removeEventListener('click', this.handleClick);\n    document.removeEventListener('dblclick', this.handleDoubleClick);\n  }\n\n  // merge the shortcuts from props\n  mergeShortcuts() {\n    const gradeShortcut = (s) => {\n      let score = 0;\n      const ps = ['ctrl', 'shift', 'alt'];\n      ps.forEach((key) => {\n        if (s[key]) {\n          score++;\n        }\n      });\n      return score;\n    };\n\n    const shortcuts = (this.props.shortcuts || [])\n      .filter(s => s.keyCode && s.handle && (typeof s.handle === 'function'));\n\n    this.shortcuts = [\n      ...shortcuts,\n      ...this.defaultShortcuts,\n    ].sort((a, b) => gradeShortcut(b) - gradeShortcut(a));\n  }\n\n  togglePlay(player, actions) {\n    if (player.paused) {\n      actions.play({\n        action: 'play',\n        source: 'shortcut',\n      });\n    } else {\n      actions.pause({\n        action: 'pause',\n        source: 'shortcut',\n      });\n    }\n  }\n\n  toggleFullscreen(player, actions) {\n    actions.toggleFullscreen(player);\n  }\n\n  handleKeyPress(e) {\n    const { player, actions } = this.props;\n    if (!player.isActive) {\n      return;\n    }\n    if (document.activeElement && (\n      hasClass(document.activeElement, 'video-control')\n        || hasClass(document.activeElement, 'video-menu-button-active')\n        // || hasClass(document.activeElement, 'video-react-slider')\n        || hasClass(document.activeElement, 'video-big-play-button')\n    )) {\n      return;\n    }\n\n    const keyCode = e.keyCode || e.which;\n    const ctrl = e.ctrlKey || e.metaKey;\n    const shift = e.shiftKey;\n    const alt = e.altKey;\n\n    const shortcut = this.shortcuts.filter((s) => {\n      if (!s.keyCode || s.keyCode - keyCode !== 0) {\n        return false;\n      }\n      if ((s.ctrl !== undefined && s.ctrl !== ctrl)\n        || (s.shift !== undefined && s.shift !== shift)\n        || (s.alt !== undefined && s.alt !== alt)\n      ) {\n        return false;\n      }\n      return true;\n    })[0];\n\n    if (shortcut) {\n      shortcut.handle(player, actions);\n      e.preventDefault();\n    }\n  }\n\n  // only if player is active and player is ready\n  canBeClicked(player, e) {\n    if (!player.isActive\n      || e.target.nodeName !== 'VIDEO'\n      || player.readyState !== 4) {\n      return false;\n    }\n    return true;\n  }\n\n  handleClick(e) {\n    const { player, actions, clickable } = this.props;\n    if (!this.canBeClicked(player, e) || !clickable) {\n      return;\n    }\n    this.togglePlay(player, actions);\n    // e.preventDefault();\n  }\n\n  handleDoubleClick(e) {\n    const { player, actions, dblclickable } = this.props;\n    if (!this.canBeClicked(player, e) || !dblclickable) {\n      return;\n    }\n    this.toggleFullscreen(player, actions);\n    // e.preventDefault();\n  }\n\n  // this component dose not render anything\n  // it's just for the key down event\n  render() {\n    return null;\n  }\n}\n\nShortcut.propTypes = propTypes;\nShortcut.defaultProps = defaultProps;\nShortcut.displayName = 'Shortcut';\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst propTypes = {\n  player: PropTypes.object,\n}\n\nexport default class LoadingSpinner extends React.Component {\n\n  render () {\n    let player = this.props.player\n    if (player.error) {\n      return null\n    }\n    return (\n      <div\n        className='video-loading-spinner'>\n        <div />\n        <div />\n      </div>\n    )\n  }\n}\n\nLoadingSpinner.propTypes = propTypes\nLoadingSpinner.displayName = ' LoadingSpinner'\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst propTypes = {\n  poster: PropTypes.string,\n  player: PropTypes.object,\n  actions: PropTypes.object,\n}\n\nclass BigPlayButton extends React.Component {\n  shouldComponentUpdate (nextProps) {\n    return nextProps.player.hasStarted !== this.props.player.hasStarted\n  }\n\n  render () {\n    const {player, actions} = this.props\n    if (player.hasStarted) {\n      return null\n    }\n    return (\n      <button\n        className=\"video-big-play-button video-control\"\n        onClick={() => {\n          if (player.paused) {\n            actions.play()\n          }\n        }}\n      />\n    )\n  }\n}\n\nBigPlayButton.propTypes = propTypes\nBigPlayButton.displayName = 'BigPlayButton'\n\nexport default BigPlayButton\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport classNames from 'classnames'\n\nconst propTypes = {\n  manager: PropTypes.object,\n}\n\nexport default class Bezel extends Component {\n  constructor (props, context) {\n    super(props, context)\n    this.timer = null\n    props.manager.subscribeToOperationStateChange(\n      this.handleStateChange.bind(this))\n    this.state = {\n      hidden: true,\n      operation: {},\n    }\n  }\n\n  handleStateChange (state, prevState) {\n    if (state.count !== prevState.count\n      && state.operation.source === 'shortcut') {\n      if (this.timer) { // previous animation is not finished\n        clearTimeout(this.timer) // cancel it\n        this.timer = null\n      }\n\n      // show it\n      // update operation\n      this.setState({\n        hidden: false,\n        count: state.count,\n        operation: state.operation,\n      })\n      // hide it after 0.5s\n      this.timer = setTimeout(() => {\n        this.setState({\n          hidden: true,\n        })\n        this.timer = null\n      }, 500)\n    }\n  }\n\n  render () {\n    // only displays for shortcut so far\n    if (this.state.operation.source !== 'shortcut') {\n      return null\n    }\n    const style = this.state.hidden ? {\n      display: 'block',\n    } : null\n\n    return (\n      <div\n        className={classNames({\n          'video-bezel': true,\n          'video-bezel-animation': this.state.count % 2 === 0,\n          'video-bezel-animation-alt': this.state.count % 2 === 1,\n        })}\n        style={style}\n        role=\"status\"\n        aria-label={this.state.operation.action}\n      >\n        <div\n          className={classNames(\n            'ekiio-video-bezel-icon',\n            `ekiio-video-bezel-icon-${this.state.operation.action}`,\n          )}\n        />\n      </div>\n    )\n  }\n}\nBezel.propTypes = propTypes\nBezel.displayName = 'Bezel'\n","import PropTypes from 'prop-types'\nimport React, {Component} from 'react'\nimport classNames from 'classnames'\n\nimport Manager from '../Manager'\n// import BigPlayButton from './BigPlayButton';\n// import LoadingSpinner from './LoadingSpinner';\n// import BigPlayButton from './BigPlayButton';\nimport Video from './Video'\nimport HLSSource from './HLSSource'\n// import Bezel from './Bezel';\n// import Shortcut from './Shortcut';\nimport ControlBar from './control-bar/ControlBar'\nimport * as browser from '../utils/browser'\nimport {throttle} from '../utils'\nimport fullscreen from '../utils/fullscreen'\nimport Shortcut from './Shortcut'\nimport LoadingSpinner from './LoadingSpinner'\nimport BigPlayButton from './BigPlayButton'\nimport Bezel from './Bezel'\n\nconst propTypes = {\n    children: PropTypes.any,\n    muted: PropTypes.bool,\n    playsInline: PropTypes.bool,\n    aspectRatio: PropTypes.string,\n    className: PropTypes.string,\n    videoId: PropTypes.string,\n    startTime: PropTypes.number,\n    loop: PropTypes.bool,\n    autoPlay: PropTypes.bool,\n    src: PropTypes.string,\n    poster: PropTypes.string,\n    preload: PropTypes.oneOf(['auto', 'metadata', 'none']),\n\n    onLoadStart: PropTypes.func,\n    onWaiting: PropTypes.func,\n    onCanPlay: PropTypes.func,\n    onCanPlayThrough: PropTypes.func,\n    onPlaying: PropTypes.func,\n    onEnded: PropTypes.func,\n    onSeeking: PropTypes.func,\n    onSeeked: PropTypes.func,\n    onPlay: PropTypes.func,\n    onPause: PropTypes.func,\n    onProgress: PropTypes.func,\n    onDurationChange: PropTypes.func,\n    onError: PropTypes.func,\n    onSuspend: PropTypes.func,\n    onAbort: PropTypes.func,\n    onEmptied: PropTypes.func,\n    onStalled: PropTypes.func,\n    onLoadedMetadata: PropTypes.func,\n    onLoadedData: PropTypes.func,\n    onTimeUpdate: PropTypes.func,\n    onRateChange: PropTypes.func,\n    onVolumeChange: PropTypes.func,\n\n    store: PropTypes.object,\n}\nconst defaultProps = {\n    HLS: false\n}\n\nexport default class Player extends Component {\n\n    constructor(props) {\n        super(props)\n        this.controlsHideTimer = null\n        this.video = null // the Video component\n        this.manager = new Manager(props.store)\n        this.actions = this.manager.getActions()\n        this.manager.subscribeToPlayerStateChange(\n            this.handleStateChange.bind(this))\n\n        this.handleResize = this.handleResize.bind(this)\n        this.getChildren = this.getChildren.bind(this)\n        this.handleMouseMove = throttle(this.handleMouseMove.bind(this), 250)\n        this.handleMouseDown = this.handleMouseDown.bind(this)\n        this.startControlsTimer = this.startControlsTimer.bind(this)\n        this.handleFullScreenChange = this.handleFullScreenChange.bind(this)\n        this.handleKeyDown = this.handleKeyDown.bind(this)\n        this.handleFocus = this.handleFocus.bind(this)\n        this.handleBlur = this.handleBlur.bind(this)\n    }\n\n    componentDidMount() {\n        this.handleResize()\n        window.addEventListener('resize', this.handleResize)\n        fullscreen.addEventListener(this.handleFullScreenChange)\n    }\n\n    componentWillUnmount() {\n        // Remove event listener\n        window.removeEventListener('resize', this.handleResize)\n        fullscreen.removeEventListener(this.handleFullScreenChange)\n        if (this.controlsHideTimer) {\n            window.clearTimeout(this.controlsHideTimer)\n        }\n    }\n\n    getChildren(props) {\n        //necessary props\n        let nps = {actions: props.actions, player: props.player}\n        // check hsl src based on\n        let video = props.HLS ? <Video\n            ref={(c) => {\n                this.video = c\n                this.manager.video = this.video\n            }}\n            key=\"video\"\n            {...props}>\n            <HLSSource\n                isVideoChild\n                src={props.src}\n            />\n\n        </Video> : <Video\n            ref={(c) => {\n                this.video = c\n                this.manager.video = this.video\n            }}\n            key=\"video\"\n            {...props} />\n\n        return [\n            video,\n            <ControlBar key=\"control-bar\"\n                        {...nps} toggleSetting={props.toggleSetting} rootElement={this.manager.rootElement}/>,\n            <Shortcut key=\"short-cut\"\n                      {...nps} />,\n            <LoadingSpinner key='loading-spinner' player={props.player}/>,\n            <Bezel key='bezel' manager={props.manager}/>,\n        ]\n\n    }\n\n    getState() {\n        return this.manager.getState()\n    }\n\n    // get playback rate\n    get playbackRate() {\n        return this.video.playbackRate\n    }\n\n    // set playback rate\n    // speed of video\n    set playbackRate(rate) {\n        this.video.playbackRate = rate\n    }\n\n    get muted() {\n        return this.video.muted\n    }\n\n    set muted(val) {\n        this.video.muted = val\n    }\n\n    get volume() {\n        return this.video.volume\n    }\n\n    set volume(val) {\n        this.video.volume = val\n    }\n\n    // video width\n    get videoWidth() {\n        return this.video.videoWidth\n    }\n\n    // video height\n    get videoHeight() {\n        return this.video.videoHeight\n    }\n\n    // play the video\n    play() {\n        this.video.play()\n    }\n\n    // pause the video\n    pause() {\n        this.video.pause()\n    }\n\n    // Change the video source and re-load the video:\n    load() {\n        this.video.load()\n    }\n\n    // Add a new text track to the video\n    addTextTrack(...args) {\n        this.video.addTextTrack(...args)\n    }\n\n    // Check if your browser can play different types of video:\n    canPlayType(...args) {\n        this.video.canPlayType(...args)\n    }\n\n    // seek video by time\n    seek(time) {\n        this.video.seek(time)\n    }\n\n    // jump forward x seconds\n    forward(seconds) {\n        this.video.forward(seconds)\n    }\n\n    // jump back x seconds\n    replay(seconds) {\n        this.video.replay(seconds)\n    }\n\n    // enter or exist full screen\n    toggleFullscreen() {\n        this.video.toggleFullscreen()\n    }\n\n    // subscribe to player state change\n    subscribeToStateChange(listener) {\n        return this.manager.subscribeToPlayerStateChange(listener)\n    }\n\n    // player resize\n    handleResize() {\n    }\n\n    handleFullScreenChange() {\n        this.actions.handleFullscreenChange(fullscreen.isFullscreen)\n    }\n\n    handleMouseDown() {\n        this.startControlsTimer()\n    }\n\n    handleMouseMove() {\n        this.startControlsTimer()\n    }\n\n    handleKeyDown() {\n        this.startControlsTimer()\n    }\n\n    startControlsTimer() {\n        this.actions.userActivate(true)\n        clearTimeout(this.controlsHideTimer)\n        this.controlsHideTimer = setTimeout(() => {\n            this.actions.userActivate(false)\n        }, 3000)\n    }\n\n    handleStateChange(state, prevState) {\n        if (state.isFullscreen !== prevState.isFullscreen) {\n            this.handleResize()\n        }\n        this.forceUpdate() // re-render\n    }\n\n    handleFocus() {\n        this.actions.activate(true)\n    }\n\n    handleBlur() {\n        this.actions.activate(false)\n    }\n\n    render() {\n        const {player} = this.manager.getState()\n        const {paused, hasStarted, waiting, seeking, isFullscreen, userActivity, readyState} = player\n        const props = {\n            ...this.props,\n            player,\n            src: this.props.src,\n            actions: this.actions,\n            manager: this.manager,\n            store: this.manager.store,\n            video: this.video ? this.video.video : null,\n        }\n        const children = this.getChildren(props)\n\n        return (\n            <div\n                className={classNames({\n                    'video-has-started': hasStarted,\n                    'video-paused': paused,\n                    'video-playing': !paused,\n                    'video-waiting': waiting,\n                    'video-seeking': seeking,\n                    'video-fullscreen': isFullscreen,\n                    'video-user-inactive': !userActivity,\n                    'video-user-active': userActivity,\n                    'video-workinghover': !browser.IS_IOS,\n                    'video-not-ready': readyState < 2\n                }, 'ekiio-video-player', this.props.className)}\n                ref={(c) => {\n                    this.manager.rootElement = c\n                }}\n                onTouchStart={this.handleMouseDown}\n                onMouseDown={this.handleMouseDown}\n                onMouseMove={this.handleMouseMove}\n                onKeyDown={this.handleKeyDown}\n                onFocus={this.handleFocus}\n                onBlur={this.handleBlur}\n                tabIndex=\"-1\"\n            >\n                {React.Children.map(this.props.children,\n                    child => React.cloneElement(child, {\n                        player: player,\n                        actions: this.actions,\n                    }),\n                )}\n                {children}\n            </div>\n        )\n    }\n}\n\nPlayer.contextTypes = {store: PropTypes.object}\nPlayer.propTypes = propTypes\nPlayer.defaultProps = defaultProps\nPlayer.displayName = 'Player'\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n}\nexport default class ChangeSubVi extends React.Component {\n  constructor (props, context) {\n    super(props, context)\n  }\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render () {\n    return (\n      <button className=\"btn-switch-sub\" type=\"button\"\n              onClick={this.props.toggleSubVi}>\n        VI/EN\n      </button>\n    )\n  }\n}\n\nChangeSubVi.propTypes = propTypes\n"],"names":["LOAD_START","CAN_PLAY","WAITING","CAN_PLAY_THROUGH","PLAYING","PLAY","PAUSE","END","SEEKING","SEEKED","SEEKING_TIME","END_SEEKING","DURATION_CHANGE","TIME_UPDATE","VOLUME_CHANGE","PROGRESS_CHANGE","RATE_CHANGE","SUSPEND","ABORT","EMPTIED","STALLED","LOADED_META_DATA","LOADED_DATA","RESIZE","ERROR","handleLoadStart","videoProps","handleCanPlay","handleWaiting","handleCanPlayThrough","handlePlaying","handlePlay","handlePause","handleEnd","handleSeeking","handleSeeked","handleDurationChange","handleTimeUpdate","handleVolumeChange","handleProgressChange","handleRateChange","handleSuspend","handleAbort","handleEmptied","handleStalled","handleLoadedMetaData","handleLoadedData","handleResize","handleError","handleSeekingTime","time","handleEndSeeking","Fullscreen","elm","requestFullscreen","webkitEnterFullScreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","document","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","handler","addEventListener","removeEventListener","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","OPERATE","FULLSCREEN_CHANGE","PLAYER_ACTIVATE","USER_ACTIVATE","handleFullscreenChange","isFullscreen","activate","activity","userActivate","play","operation","video","pause","togglePlay","seek","forward","seconds","replay","changeRate","rate","playbackRate","changeVolume","volume","v","mute","muted","toggleFullscreen","player","fullscreen","enabled","exit","request","rootElement","initialState","state","action","type","newState","paused","hasStarted","waiting","count","Manager","store","createStore","reducer","window","__REDUX_DEVTOOLS_EXTENSION__","manager","dispatch","actions","playerActions","videoActions","bindActionCreator","actionCreator","bindAction","apply","arguments","Object","keys","filter","key","reduce","boundActions","getState","listener","bind","prevState","handleChange","prevStateCopy","subscribe","subscribeToStateChange","formatTime","guide","s","Math","floor","m","h","gm","gh","isNaN","Infinity","isVideoChild","c","props","throttle","callback","limit","wait","mediaProperties","propTypes","PropTypes","object","any","number","bool","string","oneOf","func","defaultProps","Video","getProperties","renderChildren","handleEnded","handleProgress","handleKeypress","forceUpdate","setAttribute","properties","promise","undefined","catch","then","load","addTextTrack","canPlayType","currentTime","e","onLoadStart","onCanPlay","onCanPlayThrough","onPlaying","onPlay","onPause","onDurationChange","onProgress","loop","onEnded","onWaiting","onSeeking","onSeeked","onSuspend","onAbort","onEmptied","onStalled","onLoadedMetadata","startTime","onLoadedData","onTimeUpdate","onRateChange","onVolumeChange","onError","onResize","React","Children","toArray","children","map","cprops","preOnError","cloneElement","poster","preload","src","autoPlay","crossOrigin","videoId","val","videoWidth","videoHeight","Component","displayName","HLSSource","context","hls","Hls","isSupported","loadSource","attachMedia","on","Events","MANIFEST_PARSED","destroy","PlayToggle","nextProps","classNames","handleClick","findElPosition","el","box","getBoundingClientRect","parentNode","docEl","documentElement","body","clientLeft","scrollLeft","pageXOffset","left","clientTop","scrollTop","pageYOffset","top","round","getPointerPosition","event","position","boxW","offsetWidth","boxH","offsetHeight","boxY","boxX","pageY","pageX","changedTouches","y","max","min","x","hasClass","cls","classes","className","split","i","length","toLowerCase","node","Slider","handleMouseDown","handleMouseMove","handleMouseUp","handleFocus","handleBlur","handleKeyPress","stepForward","stepBack","calculateDistance","getProgress","getPercent","progress","onMouseDown","setState","sliderActive","onMouseMove","onMouseUp","sliderInactive","onFocus","onBlur","preventDefault","onClick","which","stopPropagation","findDOMNode","Dom","vertical","percentage","toFixed","child","label","valuenow","valuetext","active","VolumeLevel","width","VolumeBar","handlePercentageChange","checkMuted","distance","slider","VolumeMenuButton","level","volumeLevel","PlayProgressBar","duration","LoadProgressBar","buffered","bufferedEnd","end","style","percentify","percent","parts","start","part","push","MouseTimeDisplay","mouseTime","text","SeekBar","getNewTime","seekingTime","newTime","input","ProgressControl","handleMouseMoveThrottle","seekBar","FullscreenToggle","button","SettingToggle","toggleSetting","PureComponent","CurrentTimeDisplay","formattedTime","DurationDisplay","ControlBar","USER_AGENT","navigator","userAgent","IS_IPAD","test","IS_IPHONE","IS_IPOD","IS_IOS","array","Shortcut","defaultShortcuts","shortcuts","mergeShortcuts","handleDoubleClick","prevProps","gradeShortcut","score","ps","forEach","keyCode","handle","sort","a","b","isActive","activeElement","ctrl","ctrlKey","metaKey","shift","shiftKey","alt","altKey","shortcut","target","nodeName","readyState","clickable","canBeClicked","dblclickable","LoadingSpinner","error","BigPlayButton","Bezel","timer","subscribeToOperationStateChange","handleStateChange","source","setTimeout","hidden","Player","controlsHideTimer","getActions","subscribeToPlayerStateChange","getChildren","startControlsTimer","handleFullScreenChange","handleKeyDown","clearTimeout","nps","HLS","seeking","userActivity","browser","contextTypes","ChangeSubVi","toggleSubVi"],"mappings":"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"}